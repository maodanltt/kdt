<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tywh.kdt.report.mapper.SearchMapper">
    <select id="queryKhmcList" resultType="search">
        select mc as name from khkview where bmmc = #{bmmc} and tybz = #{tybz}
    </select>

    <select id="queryTsfljcList" resultType="search">
        select jc as name from TsflkView where jc not like '%' + #{cg} + '%'
        and jc not like '%' + #{zx} + '%' and jc not like '%' + #{wh} + '%'
        and sjdm &lt;&gt; #{sjdm}
    </select>

    <select id="queryShumList" resultType="search">
        select distinct shum as name from fxsgkview where sxh not like '%' + #{sxh} + '%'
        and tsfljc not like '%' + #{tsfljc} + '%' and bmmc &lt;&gt; #{cbzx}
        and bmmc &lt;&gt; #{whcb}
    </select>

    <select id="queryDqjlList" resultType="search">
        select REPLACE(mc,'-CJ1', '') name from xsflk where sjdm = #{sjdm}
    </select>

    <select id="queryDqList" resultType="search">
        select jc as name from khdqk
    </select>

    <select id="queryRkDetailList" resultType="rkDetail">
        select rkdbh,txrq,sxh,cs,gysmc from (select rkdbh,CONVERT(varchar(100), txrq, 23) txrq, sxh,cs,gysmc
        from RkmxView union select rkdbh,CONVERT(varchar(100), txrq, 23) txrq, sxh,cs,gysmc  from RkmxnView) rkmxjl
    </select>

    <select id="queryKucunList" resultType="inventory">
        select sxh,sum(qmkc) qmkc from kucunView where kwbh = #{kwbh} group by sxh,shum,bmmc
    </select>
</mapper>